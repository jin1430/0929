{{>layout/header}}
<main>
    <div id="page-home" class="page active">
        <section class="cg-hero cg-hero--one" style="text-align:center;">
            <div class="cg-container">
                <h1 class="cg-title" style="font-size: 48px; color: white;">
                    당신의 취향에 맞는 카페<br>
                    <span style="color: #a7f3d0;">여기서 찾으세요</span>
                </h1>
                <p class="cg-subtitle" style="color: white; opacity: 0.9;">{{homeSubtitle}}</p>

                <div class="cg-search" style="max-width: 600px; margin: 24px auto; background: white; padding: 8px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                    <input type="text" placeholder="지역이나 카페명을 검색해보세요..." class="cg-input" style="border:none; height: 48px;">
                    <button onclick="searchCafes()" class="cg-btn cg-btn--primary" style="height: 48px;">검색</button>
                </div>

                <div class="hero-ctas">
                    <a href="/cafes" onclick="showPage && showPage('cafes')" class="cg-btn cg-btn--ghost hero-cta">
                        카페 둘러보기
                    </a>
                    <a href="/reviews" onclick="showPage && showPage('reviews')" class="cg-btn cg-btn--accent hero-cta">
                        리뷰 보기
                    </a>
                </div>
            </div>
        </section>

        <section class="cg-section" style="padding: 24px 0;">
            <div class="cg-container">
                <div class="cg-chips">
                    {{#cafeTags}}
                        <a href="/search?tag={{code}}" class="cg-chip">{{label}}</a>
                    {{/cafeTags}}
                </div>
            </div>
        </section>

        <section class="cg-section" style="background-color: #f8fafc; padding: 64px 0;">
            <div class="cg-container">
                <div class="cg-section__head" style="text-align: center; margin-bottom: 32px;">
                    <h2 style="font-size: 32px; font-weight: 700;">🔥 이번 주 인기 카페</h2>
                    <p class="cg-meta">{{hotSubtitle}}</p>
                </div>

                <ul class="cg-card-grid">
                    {{#cafeCards}}
                        <li class="cg-card">
                            <a href="/cafes/{{id}}" class="cg-card__link">
                                <div class="cg-card__imgwrap">
                                    {{#photoUrl}}
                                        <img src="{{photoUrl}}" alt="{{name}}" class="cg-card__img"/>
                                    {{/photoUrl}}
                                    {{^photoUrl}}
                                        <div class="cg-noimg">☕</div>
                                    {{/photoUrl}}
                                </div>
                                <div class="cg-card__body">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <h3 class="cg-card__title">{{name}}</h3>
                                        <span class="cg-card__meta">👁️ {{views}}</span>
                                    </div>
                                    <p class="cg-card__meta">{{address}}</p>
                                    <div class="cg-btn cg-btn--primary" style="width: 100%; margin-top: 12px; text-align: center;">자세히 보기</div>
                                </div>
                            </a>
                        </li>
                    {{/cafeCards}}
                </ul>
            </div>
        </section>

        <section class="cg-section" style="padding: 64px 0;">
            <div class="cg-container">
                <div class="cg-section__head" style="text-align: center; margin-bottom: 32px;">
                    <h2 style="font-size: 32px; font-weight: 700;">📝 최신 리뷰</h2>
                    <p class="cg-meta">실제 방문자들의 생생한 후기</p>
                </div>

                <ul class="cg-feed">
                    {{#latestReviews}}
                        <li class="cg-feed__item">
                            <div style="display: flex; align-items: center; margin-bottom: 12px;">
                                <div class="cg-avatar-ring" style="width: 48px; height: 48px; background: var(--cg-primary); color: white; display: grid; place-items: center; font-weight: 700; font-size: 20px; border-radius: 50%;">{{initial}}</div>
                                <div style="margin-left: 12px;">
                                    <h4 style="font-weight: 700;">{{author}}</h4>
                                    <div class="cg-feed__meta">
                                        <span>{{cafeName}}</span>
                                        <span class="cg-dot">·</span>
                                        <span>{{date}}</span>
                                    </div>
                                </div>
                            </div>
                            <p class="cg-feed__text">{{summary}}</p>
                        </li>
                    {{/latestReviews}}
                </ul>

                <div class="cg-actions" style="justify-content: center; margin-top: 32px;">
                    <button onclick="showPage('reviews')" class="cg-btn cg-btn--primary">더 많은 리뷰 보기</button>
                </div>
            </div>
        </section>
    </div>

    <div id="page-missions" class="page"></div>
    <div id="page-cafes" class="page"></div>
    <div id="page-reviews" class="page"></div>
    <section class="cta-register">
        <div class="cg-container" style="max-width: 960px; margin: 0 auto; text-align: center;">
            <h3>내 카페를 더 많은 사람들에게 알려보세요</h3>
            <p>간단한 정보 입력만으로 지도·검색·리뷰에 노출됩니다.</p>

            <div class="cta-actions">
                {{#isLoggedIn}}
                    <a href="/cafes/new" class="cta-primary">☕ 카페 등록하기</a>
                {{/isLoggedIn}}
                {{^isLoggedIn}}
                    <a href="/login?redirect=/cafes/new" class="cta-primary">☕ 카페 등록하기</a>
                {{/isLoggedIn}}

                <a href="/help/cafe-register" class="cta-ghost">📘 등록 가이드 보기</a>
            </div>
        </div>
    </section>

</main>

{{>layout/footer}}