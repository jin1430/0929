{{>layout/header}}

<main class="cg-container cafe-create">
    <!-- í˜ì´ì§€ íƒ€ì´í‹€ -->
    <section class="cc-hero">
        <h1 class="cc-title">ì¹´í˜ ë“±ë¡</h1>
        <p class="cc-sub">ìƒˆë¡œìš´ ì¹´í˜ë¥¼ ë“±ë¡í•˜ê³  ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ì•Œë ¤ë³´ì„¸ìš”!</p>
    </section>

    <!-- ìŠ¤í… ì¸ë””ì¼€ì´í„° -->
    <section class="cc-steps">
        <div class="cc-step is-active">
            <span class="cc-step__num">1</span><span class="cc-step__label">ê¸°ë³¸ ì •ë³´</span>
        </div>
        <div class="cc-step">
            <span class="cc-step__num">2</span><span class="cc-step__label">ìƒì„¸ ì •ë³´</span>
        </div>
        <div class="cc-step">
            <span class="cc-step__num">3</span><span class="cc-step__label">ì„œë¥˜ ì œì¶œ</span>
        </div>
    </section>

    <!-- í¼ -->
    <form id="cafeCreateForm" class="cc-form" method="post" action="/cafes/create" enctype="multipart/form-data" autocomplete="off">
        <!-- ê¸°ë³¸ ì •ë³´ -->
        <section class="cc-card">
            <header class="cc-card__head">
                <div class="cc-card__index">1</div>
                <div>
                    <h2 class="cc-card__title">ê¸°ë³¸ ì •ë³´</h2>
                    <p class="cc-card__desc">ì¹´í˜ ë“±ë¡ í›„ ê´€ë¦¬ì ìŠ¹ì¸ì„ ê±°ì³ ì„œë¹„ìŠ¤ì— ë…¸ì¶œë©ë‹ˆë‹¤.</p>
                </div>
            </header>

            <div class="cc-grid-2">
                <!-- âœ”ï¸ ì—”í‹°í‹°/í¼: name -->
                <label class="cc-field">
                    <span class="cc-label">ì¹´í˜ëª… <span class="req">*</span></span>
                    <input name="name" maxlength="10" required class="cc-input" placeholder="ì¹´í˜ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ìµœëŒ€ 10ì)">
                    <small class="cc-hint">ìµœëŒ€ 10ìê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.</small>
                </label>

                <!-- âœ”ï¸ CafeForm: number (ì„œë¹„ìŠ¤ì—ì„œ getNumber() ì‚¬ìš©) -->
                <label class="cc-field">
                    <span class="cc-label">ì „í™”ë²ˆí˜¸ <span class="req">*</span></span>
                    <input name="phoneNumber" maxlength="15" class="cc-input" placeholder="02-1234-5678" required>
                    <small class="cc-hint">í•˜ì´í”ˆ(-) í¬í•¨í•˜ì—¬ ì…ë ¥í•´ì£¼ì„¸ìš”.</small>
                </label>
            </div>

            <!-- âœ”ï¸ ì—”í‹°í‹°/í¼: address -->
            <label class="cc-field">
                <span class="cc-label">ì£¼ì†Œ <span class="req">*</span></span>
                <div class="cc-address">
                    <input name="address" maxlength="60" required class="cc-input" placeholder="ì¹´í˜ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš” (ìµœëŒ€ 60ì)">
                    <button type="button" id="btnFindAddr" class="cg-btn-outline">ì£¼ì†Œ ê²€ìƒ‰</button>
                </div>
                <small class="cc-hint">ì •í™•í•œ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. ì§€ë„ì—ì„œ ìœ„ì¹˜ê°€ ìë™ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.</small>
            </label>

            <div class="cc-grid-2">
                <!-- âœ”ï¸ ì—”í‹°í‹°/í¼: lat, lon -->
                <label class="cc-field">
                    <span class="cc-label">ìœ„ë„ (lat) <span class="req">*</span></span>
                    <input name="lat" type="number" step="0.000001" class="cc-input" placeholder="37.123456" required readonly>
                    <small class="cc-hint">ì£¼ì†Œ ê²€ìƒ‰ ì‹œ ìë™ìœ¼ë¡œ ì…ë ¥ë©ë‹ˆë‹¤.</small>
                </label>

                <label class="cc-field">
                    <span class="cc-label">ê²½ë„ (lon) <span class="req">*</span></span>
                    <input name="lon" type="number" step="0.000001" class="cc-input" placeholder="127.123456" required readonly>
                    <small class="cc-hint">ì£¼ì†Œ ê²€ìƒ‰ ì‹œ ìë™ìœ¼ë¡œ ì…ë ¥ë©ë‹ˆë‹¤.</small>
                </label>
            </div>
        </section>

        <!-- ì‚¬ì—…ì ì •ë³´ -->
        <section class="cc-card">
            <header class="cc-card__head">
                <div class="cc-card__index">2</div>
                <div>
                    <h2 class="cc-card__title">ì‚¬ì—…ì ì •ë³´</h2>
                    <p class="cc-card__desc">ì‚¬ì—…ì ì •ë³´ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
                </div>
            </header>

            <div class="cc-grid-2">
                <!-- âœ”ï¸ ì—”í‹°í‹°/í¼: businessCode -->
                <label class="cc-field">
                    <span class="cc-label">ì‚¬ì—…ì ì½”ë“œ <span class="req">*</span></span>
                    <input name="businessCode" maxlength="10" class="cc-input" placeholder="123-45-67890" required>
                    <small class="cc-hint">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</small>
                </label>

                <!-- âœ”ï¸ ì—”í‹°í‹°/í¼: creationDate (LocalDate) -->
                <label class="cc-field">
                    <span class="cc-label">ê°œì—…ì¼ <span class="req">*</span></span>
                    <input name="creationDate" type="date" class="cc-input" required>
                    <small class="cc-hint">ì¹´í˜ ê°œì—…ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</small>
                </label>
            </div>
        </section>

        <!-- ì‚¬ì§„/ì¦ë¹™ ì—…ë¡œë“œ -->
        <section class="cc-card">
            <header class="cc-card__head">
                <div class="cc-card__index">3</div>
                <div>
                    <h2 class="cc-card__title">ì‚¬ì§„ Â· ê²€ì¦</h2>
                    <p class="cc-card__desc">ëŒ€í‘œ ì‚¬ì§„ê³¼ ì‚¬ì—…ì ì¦ë¹™ì„ ì²¨ë¶€í•˜ì„¸ìš”.</p>
                </div>
            </header>

            <div class="cc-grid-2">
                <!-- âœ”ï¸ íŒŒì¼ ì´ë¦„: cafePhotoFile (ì„œë¹„ìŠ¤ createCafeì˜ íŒŒë¼ë¯¸í„°ëª…ê³¼ ì¼ì¹˜) -->
                <label class="cc-field">
                    <span class="cc-label">ëŒ€í‘œ ì‚¬ì§„</span>

                    <!-- ì›í´ë¦­ ì—…ë¡œë” (inputì´ ë°•ìŠ¤ë¥¼ íˆ¬ëª…í•˜ê²Œ ì „ì²´ ë®ìŒ) -->
                    <label class="cc-uploader">
                        <input id="cafePhotoFile" name="cafePhotoFile" type="file" accept="image/*" class="cc-file">
                        <div class="cc-uploader__body">
                            <div class="cc-thumb" aria-hidden="true"></div>
                            <p>ğŸ“· í´ë¦­í•˜ê±°ë‚˜ íŒŒì¼ì„ ë“œë¡­í•˜ì„¸ìš”</p>
                            <small id="cafePhotoName" class="cc-file-name"></small>
                        </div>
                    </label>
                    <small class="cc-hint">JPG/PNG ê¶Œì¥. ì²« ì—…ë¡œë“œëŠ” ìë™ìœ¼ë¡œ ëŒ€í‘œ ì§€ì •ë©ë‹ˆë‹¤.</small>
                </label>

                <!-- âœ”ï¸ íŒŒì¼ ì´ë¦„: bizDocFile (ì„œë¹„ìŠ¤ createCafeì˜ íŒŒë¼ë¯¸í„°ëª…ê³¼ ì¼ì¹˜) -->
                <label class="cc-field">
                    <span class="cc-label">ì‚¬ì—…ì ë“±ë¡ì¦</span>
                    <label class="cc-uploader">
                        <input id="bizDocFile" name="bizDocFile" type="file" accept=".pdf,image/*" class="cc-file">
                        <div class="cc-uploader__body">
                            <div class="cc-thumb" aria-hidden="true"></div>
                            <p>ğŸ“„ í´ë¦­í•˜ê±°ë‚˜ íŒŒì¼ì„ ë“œë¡­í•˜ì„¸ìš”</p>
                            <small id="bizDocName" class="cc-file-name"></small>
                        </div>
                    </label>
                    <small class="cc-hint">PDF/JPG í—ˆìš©. ì„ íƒì‚¬í•­ì´ì§€ë§Œ ìŠ¹ì¸ ê³¼ì •ì´ ë¹¨ë¼ì§‘ë‹ˆë‹¤.</small>
                </label>
            </div>
        </section>

        <!-- ì•½ê´€ ë™ì˜ -->
        <section class="cc-card">
            <h3 class="cc-card__title">ì•½ê´€ ë™ì˜</h3>

            <label class="cc-check">
                <input type="checkbox" required>
                <span class="cc-check__text">[í•„ìˆ˜] ì¹´í˜ ë“±ë¡ ì´ìš©ì•½ê´€ì— ë™ì˜í•©ë‹ˆë‹¤.</span>
            </label>
            <label class="cc-check">
                <input type="checkbox" required>
                <span class="cc-check__text">[í•„ìˆ˜] ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.</span>
            </label>
            <label class="cc-check">
                <input type="checkbox">
                <span class="cc-check__text">[ì„ íƒ] ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹ ì— ë™ì˜í•©ë‹ˆë‹¤.</span>
            </label>

            <div class="cc-actions">
                <a href="/main" class="cg-btn-outline cc-btn">ì·¨ì†Œ</a>
                <button type="submit" class="cg-btn cc-btn cc-btn--primary">ì¹´í˜ ë“±ë¡ ì‹ ì²­</button>
            </div>
        </section>

        <!-- ì•ˆë‚´ -->
        <section class="cc-note">
            <h4>ğŸ“‹ ë“±ë¡ ì•ˆë‚´ì‚¬í•­</h4>
            <ul>
                <li>ì¹´í˜ ë“±ë¡ ì‹ ì²­ í›„ ê´€ë¦¬ì ê²€í† ë¥¼ ê±°ì³ ìŠ¹ì¸ë©ë‹ˆë‹¤. (ë³´í†µ 1~3ì¼)</li>
                <li>ìŠ¹ì¸ ì™„ë£Œ ì‹œ ë“±ë¡í•˜ì‹  ì´ë©”ì¼ë¡œ ì•Œë¦¼ì„ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤.</li>
                <li>í—ˆìœ„ ì •ë³´ë‚˜ ë¶€ì ì ˆí•œ ë‚´ìš©ì´ ë°œê²¬ë  ê²½ìš° ë“±ë¡ì´ ê±°ë¶€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li>ì‚¬ì—…ìë“±ë¡ì¦ì„ í•¨ê»˜ ì œì¶œí•˜ì‹œë©´ ìŠ¹ì¸ ê³¼ì •ì´ ë¹¨ë¼ì§‘ë‹ˆë‹¤.</li>
                <li>ë“±ë¡ í›„ ì¹´í˜ ì •ë³´ ìˆ˜ì •ì€ ë§ˆì´í˜ì´ì§€ì—ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
            </ul>
        </section>
    </form>
</main>

{{>layout/footer}}

<!-- í˜ì´ì§€ ì „ìš© ìŠ¤íƒ€ì¼ (ìŠ¤ì½”í”„: .cafe-create) -->
<style>
    .cafe-create .req{color:#ef4444;}
    .cafe-create .cc-hero{margin-top:12px;margin-bottom:8px}
    .cafe-create .cc-title{font-size:32px;font-weight:800;color:#1f2937;margin:0}
    .cafe-create .cc-sub{color:#6b7280;margin-top:4px}

    .cafe-create .cc-steps{display:flex;gap:24px;align-items:center;margin:18px 0 10px}
    .cafe-create .cc-step{display:flex;align-items:center;gap:8px;color:#6b7280}
    .cafe-create .cc-step.is-active{color:#10b981}
    .cafe-create .cc-step__num{width:28px;height:28px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;background:#e5f7f1;color:#10b981;font-weight:800}

    .cafe-create .cc-form{margin-top:6px}
    .cafe-create .cc-card{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:18px 18px 14px;margin-bottom:16px;box-shadow:0 6px 16px rgba(0,0,0,.04)}
    .cafe-create .cc-card__head{display:flex;gap:10px;align-items:center;margin-bottom:10px}
    .cafe-create .cc-card__index{width:28px;height:28px;border-radius:50%;background:#10b981;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800}
    .cafe-create .cc-card__title{margin:0;font-size:18px;font-weight:800;color:#1f2937}
    .cafe-create .cc-card__desc{margin:2px 0 0;color:#6b7280}

    .cafe-create .cc-grid-2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    @media (max-width:900px){.cafe-create .cc-grid-2{grid-template-columns:1fr}}
    .cafe-create .cc-field{display:block}
    .cafe-create .cc-label{display:block;margin-bottom:6px;font-weight:700;color:#374151}
    .cafe-create .cc-input{width:100%;height:44px;border:1px solid #d1d5db;border-radius:12px;padding:0 12px}
    .cafe-create .cc-input[readonly]{background:#f9fafb}
    .cafe-create .cc-hint{display:block;margin-top:6px;color:#6b7280;font-size:12px}

    .cafe-create .cc-address{display:flex;gap:8px}
    .cafe-create .cc-address .cc-input{flex:1}

    /* ì›í´ë¦­ ì—…ë¡œë” */
    .cafe-create .cc-uploader{position:relative;display:block;border:2px dashed #d1d5db;border-radius:12px;padding:22px;text-align:center;background:#fafafa}
    .cafe-create .cc-uploader:hover{background:#f5f5f5}
    .cafe-create .cc-file{position:absolute;inset:0;opacity:0;cursor:pointer}
    .cafe-create .cc-uploader__body{pointer-events:none}
    .cafe-create .cc-thumb{width:56px;height:56px;margin:0 auto 8px;border-radius:12px;background:linear-gradient(135deg,#3aa17e,#4fb894);opacity:.15}
    .cafe-create .cc-file-name{display:block;color:#374151;margin-top:6px}

    .cafe-create .cc-check{display:flex;align-items:flex-start;gap:10px;margin:8px 0}
    .cafe-create .cc-check input{margin-top:3px}
    .cafe-create .cc-check__text{color:#374151}

    .cafe-create .cc-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
    .cafe-create .cc-btn{height:44px;padding:0 18px;border-radius:12px}
    .cafe-create .cc-btn--primary{background:#3aa17e;border:0;color:#fff;font-weight:700}

    .cafe-create .cc-note{border:1px solid #bfdbfe;background:#eff6ff;border-radius:16px;padding:16px;margin:18px 0}
    .cafe-create .cc-note h4{margin:0 0 8px;color:#1e40af}
    .cafe-create .cc-note ul{margin:0;padding-left:18px;color:#1e3a8a}
</style>

<!-- í˜ì´ì§€ ì „ìš© ìŠ¤í¬ë¦½íŠ¸ -->
<script>
    // ì—…ë¡œë“œ íŒŒì¼ëª… í‘œì‹œ
    (function(){
      const photo = document.getElementById('cafePhotoFile');
      const photoName = document.getElementById('cafePhotoName');
      const biz = document.getElementById('bizDocFile');
      const bizName = document.getElementById('bizDocName');

      if (photo) photo.addEventListener('change', e=>{
        photoName.textContent = e.target.files?.[0]?.name || '';
      });
      if (biz) biz.addEventListener('change', e=>{
        bizName.textContent = e.target.files?.[0]?.name || '';
      });
    })();

    // ì£¼ì†Œ ê²€ìƒ‰ â†’ ìœ„/ê²½ë„ ìë™ ì…ë ¥ (ì„ì‹œ Mock; ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„  ì¹´ì¹´ì˜¤/ë„¤ì´ë²„ API ì—°ë™)
    (function(){
      const btn = document.getElementById('btnFindAddr');
      if (!btn) return;
      btn.addEventListener('click', ()=>{
        const addr = document.querySelector('input[name="address"]');
        const lat  = document.querySelector('input[name="lat"]');
        const lon  = document.querySelector('input[name="lon"]');
        if (!addr || !lat || !lon) return;

        if (!addr.value.trim()){
          alert('ì£¼ì†Œë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.');
          addr.focus();
          return;
        }

        // ì£¼ì†Œì— í¬í•¨ëœ êµ¬ëª…ì— ë”°ë¼ ì„ì‹œ ì¢Œí‘œ ë¶€ì—¬
        const table = {
          'ê°•ë‚¨êµ¬': {lat:37.5173, lon:127.0473},
          'ì„œì´ˆêµ¬': {lat:37.4837, lon:127.0324},
          'ë§ˆí¬êµ¬': {lat:37.5663, lon:126.9019},
          'ì¢…ë¡œêµ¬': {lat:37.5735, lon:126.9788}
        };
        const key = Object.keys(table).find(k => addr.value.includes(k));
        const coord = key ? table[key] : {lat:37.5665, lon:126.9780};

        lat.value = coord.lat;
        lon.value = coord.lon;
        alert('ìœ„ì¹˜ê°€ ìë™ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
      });
    })();
</script>
