{{> layout/header}}

<section class="cg-section">
    <div class="cg-container">

        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">ğŸ“ ì „ì²´ ë¦¬ë·°</h1>
            <p class="text-gray-600">ìµœì‹  ë¦¬ë·°ë¥¼ ëª¨ì•„ë´¤ì–´ìš”. ì¹´ë“œë¥¼ í´ë¦­í•˜ë©´ í•´ë‹¹ ì¹´í˜ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.</p>
        </div>

        <!-- ë¦¬ë·° ê·¸ë¦¬ë“œ -->
        <div class="cg-grid cg-grid-3">
            {{#reviews}}

                <!-- ì¹´ë“œ: ë³¸ë¬¸ì€ ë§í¬, íˆ¬í‘œëŠ” ë§í¬ ë°– -->
                <a href="/cafes/{{cafeId}}"
                   class="cg-card block"
                   style="display:block;text-decoration:none;color:inherit">
                    <!-- í—¤ë” ì˜ì—­: ì¹´í˜ëª…/ì‘ì„±ì/ì‹œê°„ + ë°°ì§€ -->
                    <div class="flex items-start justify-between gap-3">
                        <div class="min-w-0">
                            <div class="text-gray-900 font-semibold truncate">{{cafeName}}</div>
                            <div class="small text-gray-500 truncate">by {{memberNickname}} Â· {{createdAt}}</div>
                        </div>
                        <div class="flex items-center gap-2 shrink-0">
                            {{#rating}}<span class="cg-badge">â˜… {{rating}}</span>{{/rating}}
                            {{#sentiment}}<span class="cg-badge">{{sentiment}}</span>{{/sentiment}}
                        </div>
                    </div>

                    <!-- ë³¸ë¬¸ ìš”ì•½: 2ì¤„ ë§ì¤„ì„ -->
                    <p class="mt-3 text-gray-700"
                       style="display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:2.8em;">
                        {{excerpt}}
                    </p>

                    <!-- ì•„ë˜ 'ë°˜ì‘' ë¸”ë¡ì€ ë§í¬ ë°”ê¹¥ìœ¼ë¡œ ë¶„ë¦¬ -->
                </a>

                <!-- ë°˜ì‘(ìƒ‰ìƒ ì›í˜• ë²„íŠ¼) : ê¸°ëŠ¥/ì¹´ìš´íŠ¸ ìœ ì§€ -->
                <div class="mt-3 flex items-center gap-3">
                    <!-- ì´ˆë¡ ì›í˜•: ì¢‹ì•„ìš” -->
                    <form method="post" action="/reviews/{{id}}/good" title="ì¢‹ì•„ìš” {{good}}">
                        <button class="cg-dot cg-dot--good" aria-label="ì¢‹ì•„ìš”"></button>
                    </form>

                    <!-- ë¹¨ê°• ì›í˜•: ì•„ì‰¬ì›Œìš” -->
                    <form method="post" action="/reviews/{{id}}/bad" title="ì•„ì‰¬ì›Œìš” {{bad}}">
                        <button class="cg-dot cg-dot--bad" aria-label="ì•„ì‰¬ì›Œìš”"></button>
                    </form>

                    <!-- (ì˜µì…˜) ì¹´ìš´íŠ¸ í‘œì‹œ: ì‘ê²Œ ë³´ì´ê²Œ -->
                    <span class="small text-gray-500">
                        {{#good}}ğŸ‘ {{good}}{{/good}}{{#bad}} {{#good}}Â·{{/good}} ğŸ‘ {{bad}}{{/bad}}
                    </span>
                </div>

            {{/reviews}}

            {{^reviews}}
                <div class="small">ì•„ì§ ë“±ë¡ëœ ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
            {{/reviews}}
        </div>

        <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
        <div class="mt-8 flex items-center justify-center gap-2">
            {{#hasPrev}}<a class="cg-btn" href="/reviews?page={{prevPage}}&size={{size}}">ì´ì „</a>{{/hasPrev}}
            <span class="small">í˜ì´ì§€ {{page}} / {{#totalPages}}{{totalPages}}{{/totalPages}}{{^totalPages}}1{{/totalPages}}</span>
            {{#hasNext}}<a class="cg-btn" href="/reviews?page={{nextPage}}&size={{size}}">ë‹¤ìŒ</a>{{/hasNext}}
        </div>

    </div>
</section>

<style>
    /* ìƒ‰ë§Œ ë³´ì´ëŠ” ì‘ì€ ì›í˜• ë²„íŠ¼ */
    .cg-dot{ width:20px; height:20px; padding:0; border:none; border-radius:9999px; cursor:pointer; }
    .cg-dot--good{ background:#10b981; }   /* emerald-500 */
    .cg-dot--bad{  background:#ef4444; }   /* red-500 */
    .cg-dot:active{ transform:scale(0.96); }
</style>

{{> layout/footer}}
